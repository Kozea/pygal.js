/*! pygal.js           2015-08-04 */
(function(){var a,b,c,d,e,f,g,h,i,j,k;i="http://www.w3.org/2000/svg",k="http://www.w3.org/1999/xlink",a=function(a,b){return null==b&&(b=null),b=b||document,Array.prototype.slice.call(b.querySelectorAll(a),0)},e=function(a,b){return(a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector).call(a,b)},h=function(a,b){return null==b&&(b=null),Array.prototype.filter.call(a.parentElement.children,function(c){return c!==a&&(!b||e(c,b))})},Array.prototype.one=function(){return this.length>0&&this[0]||{}},f=5,j=null,g=/translate\((\d+)[ ,]+(\d+)\)/,b=function(a){return(g.exec(a.getAttribute("transform"))||[]).slice(1).map(function(a){return+a})},c=function(c){var d,g,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(a("svg",c).length?(n=a("svg")[1],p=n.parentElement,g=n.viewBox.baseVal,d=p.getBBox(),u=function(a){return(a-g.x)/g.width*d.width},v=function(a){return(a-g.y)/g.height*d.height}):u=v=function(a){return a},r=null,m=a(".graph").one(),s=a(".tooltip",c).one(),C=a(".reactive",c),w=0,z=C.length;z>w;w++)l=C[w],l.addEventListener("mouseenter",function(a){return function(){return a.classList.add("active")}}(l)),l.addEventListener("mouseleave",function(a){return function(){return a.classList.remove("active")}}(l));for(D=a(".activate-serie",c),x=0,A=D.length;A>x;x++)l=D[x],o=l.id.replace("activate-serie-",""),l.addEventListener("mouseenter",function(b){return function(){var d,e,f,g,h;for(g=a(".serie-"+b+" .reactive",c),h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d.classList.add("active"));return h}}(o)),l.addEventListener("mouseleave",function(b){return function(){var d,e,f,g,h;for(g=a(".serie-"+b+" .reactive",c),h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d.classList.remove("active"));return h}}(o)),l.addEventListener("click",function(b,d){return function(){var e,f,g,h,i,j,k,l,m,n,o;for(g=a("rect",b).one(),h=""!==g.style.fill,g.style.fill=h?"":"transparent",m=a(".serie-"+d+" .reactive",c),i=0,k=m.length;k>i;i++)f=m[i],f.style.display=h?"":"none";for(n=a(".text-overlay .serie-"+d,c),o=[],j=0,l=n.length;l>j;j++)e=n[j],o.push(e.style.display=h?"":"none");return o}}(l,o));for(E=a(".tooltip-trigger",c),y=0,B=E.length;B>y;y++)l=E[y],l.addEventListener("mouseenter",function(a){return function(){return r=q(a)}}(l));return s.addEventListener("mouseenter",function(){return null!=r?r.classList.add("active"):void 0}),s.addEventListener("mouseleave",function(){return null!=r?r.classList.remove("active"):void 0}),c.addEventListener("mouseleave",function(){return j&&clearTimeout(j),t(0)}),m.addEventListener("mousemove",function(a){return!j&&e(a.target,".background")?t(1e3):void 0}),q=function(c){var d,e,g,l,m,n,o,q,r,t,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$;for(clearTimeout(j),j=null,s.style.opacity=1,s.style.display="",F=a("g.text",s).one(),B=a("rect",s).one(),F.innerHTML="",w=h(c,".label").one().textContent,M=h(c,".x_label").one().textContent,I=h(c,".value").one().textContent,N=h(c,".xlink").one().textContent,C=null,p=c,H=[];p&&(H.push(p),!p.classList.contains("series"));)p=p.parentElement;if(p)for(W=p.classList,Q=0,R=W.length;R>Q;Q++)if(g=W[Q],0===g.indexOf("serie-")){C=+g.replace("serie-","");break}for(x=null,null!==C&&(x=config.legends[C]),n=0,t=[[w,"label"]],X=I.split("\n"),q=U=0,S=X.length;S>U;q=++U)D=X[q],t.push([D,"value-"+q]);for(config.tooltip_fancy_mode&&(t.push([N,"xlink"]),t.unshift([M,"x_label"]),t.unshift([x,"legend"])),G={},V=0,T=t.length;T>V;V++)Y=t[V],r=Y[0],y=Y[1],r&&(E=document.createElementNS(i,"text"),E.textContent=r,E.setAttribute("x",f),E.setAttribute("dy",n),E.classList.add(0===y.indexOf("value")?"value":y),0===y.indexOf("value")&&config.tooltip_fancy_mode&&E.classList.add("color-"+C),"xlink"===y?(d=document.createElementNS(i,"a"),d.setAttributeNS(k,"href",r),d.textContent=void 0,d.appendChild(E),E.textContent="Link >",F.appendChild(d)):F.appendChild(E),n+=E.getBBox().height+f/2,e=f,void 0!==E.style.dominantBaseline?E.style.dominantBaseline="text-before-edge":e+=.8*E.getBBox().height,E.setAttribute("y",e),G[y]=E);return J=F.getBBox().width+2*f,o=F.getBBox().height+2*f,B.setAttribute("width",J),B.setAttribute("height",o),G.value&&G.value.setAttribute("dx",(J-G.value.getBBox().width)/2-f),G.x_label&&G.x_label.setAttribute("dx",J-G.x_label.getBBox().width-2*f),G.xlink&&G.xlink.setAttribute("dx",J-G.xlink.getBBox().width-2*f),L=h(c,".x").one(),P=h(c,".y").one(),K=parseInt(L.textContent),L.classList.contains("centered")?K-=J/2:L.classList.contains("left")?K-=J:L.classList.contains("auto")&&(K=u(c.getBBox().x+c.getBBox().width/2)-J/2),O=parseInt(P.textContent),P.classList.contains("centered")?O-=o/2:P.classList.contains("top")?O-=o:P.classList.contains("auto")&&(O=v(c.getBBox().y+c.getBBox().height/2)-o/2),Z=b(s.parentElement),z=Z[0],A=Z[1],K+J+z>config.width&&(K=config.width-J-z),O+o+A>config.height&&(O=config.height-o-A),0>K+z&&(K=-z),0>O+A&&(O=-A),$=b(s),l=$[0],m=$[1],l===K&&m===O?c:(s.setAttribute("transform","translate("+K+" "+O+")"),c)},t=function(a){return j=setTimeout(function(){return s.style.display="none",s.style.opacity=0,null!=r&&r.classList.remove("active"),j=null},a)}},d=function(){var b,d,e,f,g;if(d=a(".pygal-chart"),d.length){for(g=[],e=0,f=d.length;f>e;e++)b=d[e],g.push(c(b));return g}},"loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",function(){return d()}),window.pygal={init:c,init_svg:d}}).call(this);